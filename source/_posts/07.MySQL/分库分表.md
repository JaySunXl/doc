


## 分表

解决单表数据量过大带来的查询效率下降的问题

水平切分:把一个表的数据分到多个表中,每个表的字段相同,能够提高查询性能,但由于数据仍然处于同一个库中,库级别仍有IO瓶颈
垂直切分:把一个表的字段分到多个表中,每个表的字段不同

分表策略:
* 随机切分:hash,mod
* 连续切分

带来的问题:

表关联
分布式事务:数据一致性
数据id问题:如MySQL不能使用自增的id,而应该使用全局唯一id,如UUID等

## 分库

提高数据库并发访问能力, 主要是写操作

水平分:适用于单表中数据量极大的场景,被分成的表处于不同的库中,这也是和水平分表的不同
垂直分:适用于单库中表的数量较多的场景,如把一个表分到一个单独的库中

实现简单
存在跨库join查询问题,无法解决单表数据量大的问题

解决跨库join的方案:

常被join的表在每个库中都存留一份.但要求这些表很少被修改
表中保存"多余"的字段,避免通过join去其他表获取该字段,是一种空间换性能的方案


# 参考

https://www.cnblogs.com/wade-luffy/p/6096578.html
https://www.infoq.cn/article/key-steps-and-likely-problems-of-split-table
https://tech.meituan.com/2016/11/18/dianping-order-db-sharding.html


[![](https://static.segmentfault.com/v-5b1df2a7/global/img/creativecommons-cc.svg)](https://creativecommons.org/licenses/by-nc-nd/4.0/)
