---
title: MySQL优化
date:
tags:
- MySQL
---

<!-- TOC -->

- [优化方案](#优化方案)
    - [表设计](#表设计)
    - [查询语句](#查询语句)
    - [缓存](#缓存)
    - [锁](#锁)
    - [事务拆解](#事务拆解)
- [慢查询](#慢查询)
- [SQL](#sql)

<!-- /TOC -->


# 优化方案

## 表设计

* 尽可能不要使用NULL值,可以考虑将字段设为非null并设置默认值.
* 添加索引
* 避免表之间结构上的依赖
* 表拆分

## 查询语句

* 避免全表扫描
  - like关键字
  - 不等关系(`<>`,`!=`)
  - 使用`is null`查询存在null的字段
* 将能过滤掉大量件数的条件写在后面

## 缓存

使用缓存,减少查询数据的次数但会增加系统的复杂性

## 锁

锁表
死锁
锁降级

写操作时,条件中没有索引条件导致锁表
写操作时,避免跨表join

数据库死锁如何解决;

## 事务拆解



# 慢查询


# SQL



不在索引列上使用is null 或is not null。

[![](https://static.segmentfault.com/v-5b1df2a7/global/img/creativecommons-cc.svg)](https://creativecommons.org/licenses/by-nc-nd/4.0/)