---
title: 抽象工厂模式
date: 2017-07-01
tags:
- 设计模式
---

希望一个工厂可以提供多个产品对象,而不是单一的产品
就需要将某些产品的生产合并在一个工厂类中


抽象工厂模式提供了一个创建一系列相关或相互依赖对象的接口，而无须指定它们具体的类。


该模式下,每一个具体工厂都提供了多个工厂方法用于产生多种不同类型的产品，这些产品构成了一个产品族.
产品结构:电视机下有海尔电视,小米电视等
产品族:海尔下除了电视还有冰箱,洗衣机等

和工厂方法模式中一样,梗设计四个角色:

* AbstractFactory:声明了一组创建产品族的方法,每种方法对应一中商品
* ConcreteFactory
* AbstractProduct
* ConcreteProduct

```java
abstract class AbstractFactory {
public abstract AbstractProductA createProductA(); //工厂方法一
public abstract AbstractProductB createProductB(); //工厂方法二
......
}
```
```java
class ConcreteFactory1 extends AbstractFactory {
//工厂方法一
public AbstractProductA createProductA() {
    return new ConcreteProductA1();
}

//工厂方法二
public AbstractProductB createProductB() {
    return new ConcreteProductB1();
}
......
}
```

具体工厂实际上也是从海尔电视机工厂变为海尔电器厂
假如是新增一个产品族,只需增加一个具体工厂的实现即可,此时符合开闭原则,
如果是新加一个电器产品,如智能洗衣机产品,就需要修改抽象工厂类,从而所有子类都需要显现只能洗衣机的生产方法,
此时不符合开闭原则,实现上抽象工厂模式无法在不违反该原则的前提下实现更改.

> 在抽象工厂模式中，增加新的产品族很方便，但是增加新的产品等级结构很麻烦
