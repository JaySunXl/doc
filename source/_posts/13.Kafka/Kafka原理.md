<details>
<summary>点击展开目录</summary>
<!-- TOC -->


<!-- /TOC -->
</details>



**Kafka 是如何保证数据可靠性和一致性**

1. 分区副本机制, 将消息写入多个副本可以使 Kafka 在发生崩溃时仍能保证消息的持久性
2. 分区副本选举机制, leader 挂了, 能从 ISR 中选择最新已保存消息的 follower 中选出 leader
2. 生产消息的消息确认机制, 通过配置来决定消息同步到几个分区副本才算消息生产成功
3. 生产消息响应模式, 异步性能好, 但数据风险高, 为了保证可靠性, 需要使用同步方式


