
<details>
<summary>点击展开目录</summary>
<!-- TOC -->

- [MessageFormat](#messageformat)
- [String为null](#string为null)
- [Random](#random)
- [分割/换行符](#分割换行符)
- [集合](#集合)
- [位运算判断奇偶](#位运算判断奇偶)
- [字符串转数值](#字符串转数值)
- [减少if-else嵌套](#减少if-else嵌套)
- [使用java8的日期API](#使用java8的日期api)
- [valueOf代替toString](#valueof代替tostring)
- [函数尽量不要返回null，而是返回一个空的对象](#函数尽量不要返回null而是返回一个空的对象)

<!-- /TOC -->
</details>

## MessageFormat

```Java
// a:100,001
System.out.println(MessageFormat.format("a:{0}", 100001));
// a:100001
System.out.println(MessageFormat.format("a:{0}", 100001 + ""));
```
> 占位符填入数字时会自动被`,`分割, 因此不要直接传入数值, 而是传入String类型

## String为null

```Java
String a = null;
String b = "结果:" + a;
// 7 b-> 结果:null
System.out.println(b.length());
```

> null的String在拼接时候会转换成`null`字符串, 有时会出现问题, 可以使用guaua的`Strings.nullToEmpty()`解决

## Random

```Java
public static int getRandom(int start, int end) {
    // [0.0 , 1.0)
    double num = Math.random();
    int bound = end - start + 1;
    return (int) (num * bound) + start;
}

public static int getRandom1(int start, int end) {
    Random random = new Random();
    int bound = end - start + 1;
    return random.nextInt(bound) + start;
}
```

## 分割/换行符

路径分割符
System.getProperty("path.separator");
> Windows:`;` Unix: `:`


文件分割符
File.separator
System.getProperty("file.separator");
> Windows:`\` Unix: `/`


文件换行符
System.getProperty("line.separator");
System.lineSeparator();

> Windows:`\r\n` Unix: `\n`


Guava
http://ifeve.com/google-guava/
https://my.oschina.net/u/2551035/blog/802634


## 集合

1. 不要在 Set 中使用 null
2. 不要使用 null 作为 map 的键值

## 位运算判断奇偶

n&1  返回1 则为奇数, 0则为偶数

## 字符串转数值

去除末尾0
不以科学技术法表示

```Java
String value = "10000000.010";
value = new BigDecimal(value).stripTrailingZeros().toPlainString();
```

## 减少if-else嵌套

https://mp.weixin.qq.com/s/DjnSofEqvJI7asX72qDOrA

## 使用java8的日期API

LocalDate
LocalTime

## valueOf代替toString

```Java
BigDecimal bd = getPrice();
// good
String.valueOf(bd);
// not good
bd.toString();
```

## 函数尽量不要返回null，而是返回一个空的对象

Collections辅助类中有静态EMPTY_LIST EMPTY_SET EMPTY_MAP

使用@NotNull @Nullable

```Java
// 非空的list
@NonNull List<String> strList;
// 元素非空的list
List<@NonNull String> strList;
```


[![](https://static.segmentfault.com/v-5b1df2a7/global/img/creativecommons-cc.svg)](https://creativecommons.org/licenses/by-nc-nd/4.0/)