---
title: 内省
date:
tags:
- Java
---
<!-- TOC -->


<!-- /TOC -->

属性：设置setter和读取getter成员变量的方法
内省：用于操作属性(getter and setter methods)
方法1：
```Java
BeanInfo bi = Introspector.getBeanInfo(User.class);
PropertyDescriptor[] pd = bi.getPropertyDescriptors();
```
方法2：
```Java
PropertyDescriptor pdAge = new PropertyDescriptor("age", User.class);
Method setMethod = pdAge.getReadMethod();
Method getMethod = pdAge.getWriteMethod();
```
        PropertyDescriptor(String propertyName,Class <?> beanClass):根据propertyName将类中的属性封装到属性描述器中
        getReadMethod():得到的是getter方法
        getWriteMethod():得到的是setter方法


beanutils内省框架(依赖commons-logging):apache   www.apache.org
BeanUtils类：
        public static String getProperty(Object bean,String name)
                        //bean对象的name属性,等价于得到并调用getter方法
        public static void setProperty(Object bean,String name,Object value)
                        //设置bean对象的name属性为value，等价于得到并调用setter方法
        注：BeanUtils可以进行类型的自动转换，但仅限基本类型
        public static void populate(Object bean,Map<String,? extends Object> properties)
                        //可将Map的元素放到bean中
```Java
Map<String, String> map = new HashMap<String, String>();
map.put("userName","LuVx");
USer user = new User();
BeanUtils.populate(user,map);
```

			ConvertUtils类：
					public static void register(Converter converter,Class clazz)//注册器，用于注册一个类型转换器

```Java
User user = new User();
ConvertUtils.register(new DateLocaleConverter().Date.class);
BeanUtils.setProperty(user,"birthday","1990-01-01");

```
			Converter接口：
					Object convert(Class type,Object value)：type:目标类型  value:当前传入的值  类型转换器
							Convert the specified input object into an output object of the specified type.
PS：Converter接口下有多种类型的实现类。