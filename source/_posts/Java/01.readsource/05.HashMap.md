---
title: 源码解读-HashMap
date: 2018-03-14
tags:
- Java
---

<!-- TOC -->

- [关于Hash](#关于hash)
- [](#)

<!-- /TOC -->

# 关于Hash

通常来说Hash算法具有以下特征,

* 输入和哈希值是多对一的关系,即是一种压缩映射.最优情况是一对一
* 哈希值不同,输入肯定不同
* 哈希值相同,输入可能不同
* 同样的输入,哈希值必须相同
* 不同的输入,同样的哈希值,这种现象被称为哈希碰撞,碰撞几率是衡量一个哈希算法优劣的重要指标.

解决碰撞的方案:

* 开放定址法:一旦发生了冲突，就去寻找下一个空的散列地址，只要散列表足够大，空的散列地址总能找到，并将记录存入
* 链地址法:将哈希表的每个单元作为链表的头结点，所有哈希地址为i的元素构成一个同义词链表。即发生冲突时就把该关键字链在以该单元为头结点的链表的尾部
* 再哈希法:当哈希地址发生冲突用其他的函数计算另一个哈希函数地址，直到冲突不再产生为止
* 建立公共溢出区:将哈希表分为基本表和溢出表两部分，发生冲突的元素都放入溢出表中

HashMap即是采用链地址法,结合数组和链表两者的优势.

# 

```Java
transient Node<K,V>[] table;
transient Set<Map.Entry<K,V>> entrySet;
transient int size;
transient int modCount;
```


int hash(Object k)
